# C++ 指针 学习

## 一、前言

### 指针重要性
  指针在c++的作用不言而喻，可以说学不好指针，就很难理解c++的底层逻辑。作者在学习的指针的时候也是
  花费大量时间，由于很多资料中对指针的讲解缺少实例，因此初学者在学习指针的时候很难掌握。本文将基
  于大量指针实例，尽可能通俗易懂地将指针内容解释清楚。

## 二、初识指针

### 1，指针的外表

  **什么是指针?**  
  `int *p` 这就是一个指针变量  
  指针语法定义可以由三部分组成： `类型 * 变量名称 `  

  首先我们必须清楚，指针也是一种变量，但是它不受类型限制，也就是说，指针可以有很多类型。
  比如：整型、实型、字符型、空类型等等，相应的，int可以替换为char,float,viod...
  >  既然指针是一种变量，那么它的名称也遵循用户合法标识符。

  **指针的初始化**   
  指针有两种初始化方法：
  `int *p = &(取址符)a`  	//第一种
  `int *p = 0  		//第二种，也称空指针。
  由于指针的作用是访问数据的地址，所以在初始化时，**右值为一个变量的地址**
  > 同时，指针也是可以改变指向的，后续我们将会谈到。
> 

  既然我们已经初始化了指针，此时，这个指针指向的是一个地址
  如何访问指针指向对象的值呢？
  这里我们使用解引用操作符（*）来实现  
  `int a = 100;`    
  `int *p = &a;`  
  `cout<< *p;`   
  如果要通过指针修改变量的值，同样通过解引用符   
  `*p = 10` 此时a 的值为10    
  
>注意：此处仅是将a的值改为10，并没有改变指针所指对象，如果要改变指针所指对象
>无需使用解引用符  
>`int b;`  
>`p = &b;`    		这样就改变了p的指向    

下面我们看一个实例来更好理解指针操作
```c++
#include <iostream>
using namespace std;

int main()
{
    int a = 100;
    char b = 'b';
    char c[] = "abc";
    int * p1 = &a;  
    char *p2 = &b;
    char *p3 = c;
    cout << p1 << endl;  //输出：0x61fe04
    cout << *p1 << endl;  //输出：100
    cout << p3 << endl;   //输出：abc
    cout << *p3 << endl;  //输出 a
    return 0;
    /********** End **********/
}
```



### 2.指针的内涵

  **==地址==**  
  每个变量创建时，内存会为他分配一个地址，以存储它的内容。而指针变量，指向变量的地址。   
  
  **==为何要指向地址==**   
  理解了为什么要指向地址，就知道指针的作用  
  
  1. 指针能够直接指向变量的内存地址，使程序更高效地运行；   
  2. 使用指针允许程序在不同的函数中访问数据，因为指针指向的是内存地址，允许在作用域外访问数据，例如指针变量作为函数形参。    
  3. 指针能够实现内存动态分配。

  对于初学者来说可能还不太理解，但是没关系，后面我会举详细的例子。  


  **指针操作变量**   
  指针可以对变量进行操作，这一点最常用，也最基本；   
  例如：  
  ```c++
  #include <iostream>
  using namespace std;

  int main(){
      int a = 100;
      char *p = &a;
      *p = 20;
      cout << a << endl;   //输出：20
      return 0;
  }

  ```


## 三 、指针的使用 ##   
对指针有了初步的认识，我们开始了解指针在实际操作中的使用;   

### 1.指针与数组 ***   
为什么直接讲指针与数组，因为指针与数组有着十分密切的联系（首先我们要对数组有初步的认识）   

#### 1. 数组指针创建 ####    
```c++   
int arr[5] = {10,20,30}; 
int *p = arr;
```   
  这样 一个数组指针就创建好了   
  但是！不知是否有细心的小伙伴发现 为什么这里指针指向数组的时候没有使用&取址符呢？？？   
	难道不应该是 ` int *p = &arr ;` 吗？   
  原来，**数组名其实就是数组首元素的地址。 当指针指向数组的时候，其实指向的是数组的首个元素的地址    
	也就是10的地址。**   
  即 ` int *p = &arr[0]; `   


#### 2. 利用指针访问数组 #### 

显然创建指针是为了更好地对数组进行操作，下面我们通过一个实例来了解。   

```c++
#include <iostream>
using namespace std;

int main()
{
	int arr[3] = { 10, 20, 30};
	int *p = arr;

	for(int i = 0; i< 3;i++)  // 利用循环遍历列表
	{
		cout<< "arr["<<i<<"]值为："<< p<<endl;   //当i = 0 时，指针指向数组首元素
		cout<< "arr["<<i<<"]值为："<< *p<<endl;    //*p输出元素值，p输出元素地址
		p++;		//每一次循环结束p++，此时指向下一个元素的地址
	}

	return 0;
}

arr[0]值为：0x61fe08
arr[0]值为：10
arr[1]值为：0x61fe0c
arr[1]值为：20
arr[2]值为：0x61fe10
arr[2]值为：30

```




#### 3.利用指针操作数组中元素 ####   
还是上面那个函数    

##### 1.第一种：直接修改元素 #####   
```c++
#include <iostream>
using namespace std;

int main()
{
	int arr[3] = { 10, 20, 30};
	int *p = arr;

	for(int i = 0; i< 3;i++)  // 利用循环遍历列表
	{
		*p = 2 * i;    利用*P来修改当前指向元素的值
		cout<< "arr["<<i<<"]值为："<< *p<<endl;    //输出0，2，4
		p++;		//每一次循环结束p++，此时指向下一个元素的地址
	}

	return 0;
}
```
##### 2. 第二种：添加条件判断修改元素 #####   
```c++
#include <iostream>
using namespace std;

int main()
{
	int arr[3] = { 10, 20, 30};
	int *p = arr;

	for(int i = 0; i< 3;i++)  // 利用循环遍历列表
	{
		if(*p > 20)        //只有元素值大于20才输出
		{
		cout<< "arr["<<i<<"]值为："<< *p<<endl;    //输出0，2，4
		}
		p++;		//每一次循环结束p++，此时指向下一个元素的地址
		
	}

	return 0;
}
```

##### 3.第三种，字符串指针的操作 #####   
> 注意：c++种字符基本以字符串的形式出现，而字符串也相当于字符数组，尾部默认加上一个'\0' （还有一种string类型的字符，稍后我们会提到）
> 这一点很重要，切记字符串实质上是一个字符数组,于是我们也可以用处理数组的方式处理字符串


 ```c++
#include <iostream>
using namespace std;

int main()
{
	char arr[10] = {"heello"};
	char *p = arr;

	for(int i = 0; i< 10;i++)  // 利用循环遍历列表
	{
		cout<< "arr["<<i<<"]值为："<< *p<<endl;    //输出
		p++;		//每一次循环结束p++，此时指向下一个元素的地址
	}

	return 0;
}
```
		同理，如果要对字符串中的值进行修改，在代码部分添加条件即可。   

 ##### 4. 第四种，指针数组* #####
  在解决实际问题时，我们可能会面临有多个字符串，而不是单个字符串    
  比如char[5] = {"heello","how","are","you"}    
  这是，仅仅一个指针就无法完成任务了，为此我们引入了指针数组    
  **创建一个指针数组**   
  

 


	
 
  
 	
  



  
  
  
  

     



